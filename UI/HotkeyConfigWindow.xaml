<Window x:Class="NetKit.HotkeyConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="Configure Hotkey"
        Height="350" Width="500"
        Background="Transparent"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        KeyDown="Window_KeyDown"
        PreviewKeyDown="Window_PreviewKeyDown"
        Focusable="True">

    <Border Background="{DynamicResource WindowBackgroundBrush}"
            CornerRadius="12"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Grid.Row="0" Text="Configure Global Hotkey"
                       FontSize="16" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>

            <!-- Instructions and current hotkey -->
            <StackPanel Grid.Row="1" VerticalAlignment="Center">
                <TextBlock Text="Current hotkey:"
                           Foreground="{DynamicResource TextBrush}"
                           Margin="0,0,0,8"/>

                <TextBox x:Name="CurrentHotkeyTextBox"
                         Text="Win + '"
                          IsReadOnly="True"
                         Background="{DynamicResource BackgroundSecondaryBrush}"
                         HorizontalAlignment="Center"
                         MinWidth="250"
                         TextAlignment="Center"
                         FontSize="14"
                         Margin="0,0,0,20"/>

                <TextBlock Text="Press a new key combination:"
                           Foreground="{DynamicResource TextBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,8"/>

                <Border x:Name="CaptureBox"
                        Background="{DynamicResource SurfaceBrush}"
                        BorderBrush="{DynamicResource AccentBrush}"
                        BorderThickness="2"
                        CornerRadius="6"
                        MinHeight="50"
                        HorizontalAlignment="Center"
                        MinWidth="300"
                        Margin="0,0,0,10">
                    <TextBlock x:Name="CapturedHotkeyTextBox"
                               Text="Click here then press keys..."
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontStyle="Italic"
                               FontSize="14"
                               TextWrapping="Wrap"
                               Margin="10"/>
                </Border>
            </StackPanel>

            <!-- Status message -->
            <TextBlock x:Name="StatusTextBlock"
                       Grid.Row="2"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       Margin="0,15,0,15"/>

            <!-- Buttons -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="ApplyButton" Content="Apply" Width="90" Height="32" Margin="0,0,10,0"
                        Click="ApplyButton_Click" Style="{StaticResource AccentButton}"/>
                <Button x:Name="ResetButton" Content="Reset" Width="90" Height="32" Margin="0,0,10,0"
                        Click="ResetButton_Click" Style="{StaticResource ButtonBaseStyle}"/>
                <Button x:Name="CancelButton" Content="Cancel" Width="90" Height="32"
                        Click="CancelButton_Click" Style="{StaticResource ButtonBaseStyle}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
